{"remainingRequest":"E:\\vue3\\shop\\node_modules\\babel-loader\\lib\\index.js!E:\\vue3\\shop\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\vue3\\shop\\service\\model\\poetry\\poetry.js","dependencies":[{"path":"E:\\vue3\\shop\\service\\model\\poetry\\poetry.js","mtime":1631805792035},{"path":"E:\\vue3\\shop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630593742470},{"path":"E:\\vue3\\shop\\node_modules\\babel-loader\\lib\\index.js","mtime":1630593744148},{"path":"E:\\vue3\\shop\\node_modules\\eslint-loader\\index.js","mtime":1630593742928}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIF9hc3luY1RvR2VuZXJhdG9yID0gcmVxdWlyZSgiRTovdnVlMy9zaG9wL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IiKS5kZWZhdWx0OwoKdmFyIF9jbGFzc0NhbGxDaGVjayA9IHJlcXVpcmUoIkU6L3Z1ZTMvc2hvcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpLmRlZmF1bHQ7Cgp2YXIgX2NyZWF0ZUNsYXNzID0gcmVxdWlyZSgiRTovdnVlMy9zaG9wL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIikuZGVmYXVsdDsKCnJlcXVpcmUoInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiKTsKCi8v5qih5Z6L55qE5aKe5Yig5pS55p+lCnZhciBQb2V0cnlNb2RlbCA9IHJlcXVpcmUoIi4uLy4uL3NjaGVtYS9wb2V0cnlzY2hlbWEiKTsKCnZhciBwb2V0cnkgPSBuZXcgUG9ldHJ5TW9kZWwoewogICJwb2V0cnkiOiBbewogICAgbmFtZTogJ+adjueZvScsCiAgICBzZXg6ICfnlLcnLAogICAgaWQ6IDEsCiAgICBwb2VtZXI6ICfluorliY3mmI7mnIjlhYnvvIznlpHmmK/lnLDkuIrpnJzjgILkuL7lpLTmnJvmmI7mnIjvvIzkvY7lpLTmgJ3mlYXkuaHjgIInLAogICAgaW1nOiAnL2ltYWdlL+iKseWEvy5qcGcnCiAgfSwgewogICAgbmFtZTogJ+adnOeUqycsCiAgICBzZXg6ICfnlLcnLAogICAgaWQ6IDEsCiAgICBwb2VtZXI6ICflsrHlrpflpKvlpoLkvZXvvIzpvZDpsoHpnZLmnKrkuobjgILpgKDljJbpkp/npZ7np4DvvIzpmLTpmLPlibLmmI/mmZPjgIInLAogICAgaW1nOiAnL2ltYWdlL+iKseWEvy5qcGcnCiAgfV0sCiAgInN0YXR1c0NvZGUiOiAiMjAwIiwKICAiZGVzYyI6ICLor7fmsYLmiJDlip8iCn0pOyAvLyBwb2V0cnkuc2F2ZSgpCgp2YXIgUG9ldHJ5Q29udHJvbGxlciA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgInVzZSBzdHJpY3QiOwoKICBmdW5jdGlvbiBQb2V0cnlDb250cm9sbGVyKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFBvZXRyeUNvbnRyb2xsZXIpOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFBvZXRyeUNvbnRyb2xsZXIsIFt7CiAgICBrZXk6ICJnZXRQb2V0cnkiLAogICAgdmFsdWU6IC8vIGFzeW5jIGdldENlbnRlcihjdHgpIHsKICAgIC8vICAgICBjb25zdCBkYXRhID0gYXdhaXQgUG9ldHJ5TW9kZWwuZmluZCgpCiAgICAvLyAgICAgY29uc3QgcmVzdWx0ID0gewogICAgLy8gICAgICAgICBjb2RlOiAyMDAsCiAgICAvLyAgICAgICAgIGRhdGEKICAgIC8vICAgICB9CiAgICAvLyAgICAgY3R4LmJvZHkgPSByZXN1bHQKICAgIC8vIH0KICAgIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRQb2V0cnkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoY3R4KSB7CiAgICAgICAgdmFyIGRhdGEsIHJlc3VsdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBQb2V0cnlNb2RlbC5maW5kKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIGRhdGEgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzdWx0ID0gewogICAgICAgICAgICAgICAgICBjb2RlOiAyMDAsCiAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBjdHguYm9keSA9IHJlc3VsdDsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldFBvZXRyeShfeCkgewogICAgICAgIHJldHVybiBfZ2V0UG9ldHJ5LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRQb2V0cnk7CiAgICB9KCkgLy8gLy/ojrflj5blr7zoiKrmoI8KICAgIC8vIGFzeW5jIGdldE5hdihjdHgpIHsKICAgIC8vICAgICBjb25zdCBkYXRhID0gYXdhaXQgVXNlci5maW5kKCkKICAgIC8vICAgICBjb25zdCByZXN1bHQgPSB7CiAgICAvLyAgICAgICAgIGNvZGU6MjAwLAogICAgLy8gICAgICAgICBkYXRhCiAgICAvLyAgICAgfQogICAgLy8gICAgIGN0eC5ib2R5ID0gcmVzdWx0CiAgICAvLyB9CiAgICAvLyBhc3luYyBnZXRVc2VyQnlJZChjdHgpewogICAgLy8gICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBVc2VyLmZpbmRPbmUoewogICAgLy8gICAgICAgICBfaWQ6IGN0eC5wYXJhbXMuaWQKICAgIC8vICAgICB9KQogICAgLy8gICAgIGlmICghZGF0YSkgewogICAgLy8gICAgICAgICBjdHgudGhyb3coNDA0LCAi55So5oi35LiN5a2Y5ZyoIikKICAgIC8vICAgICB9CiAgICAvLyAgICAgY29uc3QgcmVzdWx0ID0gewogICAgLy8gICAgICAgICBjb2RlOjIwMCwKICAgIC8vICAgICAgICAgZGF0YQogICAgLy8gICAgIH0KICAgIC8vICAgICBjdHguYm9keSA9IHJlc3VsdAogICAgLy8gfQogICAgLy8gYXN5bmMgdXBkYXRlVXNlcihjdHgpewogICAgLy8gICAgIGN0eC52ZXJpZnlQYXJhbXMoewogICAgLy8gICAgICAgICBuYW1lOiB7IHR5cGU6ICJzdHJpbmciIH0sCiAgICAvLyAgICAgICAgIHNleDogeyB0eXBlOiAic3RyaW5nIiB9LAogICAgLy8gICAgICAgICBwaG9uZTogeyB0eXBlOiJzdHJpbmciIH0KICAgIC8vICAgICB9KQogICAgLy8gICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBVc2VyLmZpbmRCeUlkQW5kVXBkYXRlKGN0eC5wYXJhbXMuaWQsIGN0eC5yZXF1ZXN0LmJvZHkpCiAgICAvLyAgICAgaWYoIWRhdGEpewogICAgLy8gICAgICAgICBjdHgudGhyb3coNDA0LCAi55So5oi35LiN5a2Y5ZyoIikKICAgIC8vICAgICB9CiAgICAvLyAgICAgY29uc3QgcmVzdWx0ID0gewogICAgLy8gICAgICAgICBjb2RlOiAyMDAsCiAgICAvLyAgICAgICAgIGRhdGEKICAgIC8vICAgICB9CiAgICAvLyAgICAgY3R4LmJvZHkgPSByZXN1bHQKICAgIC8vIH0KICAgIC8vIGFzeW5jIGNyZWF0ZVVzZXIoY3R4KXsKICAgIC8vICAgICBjdHgudmVyaWZ5UGFyYW1zKHsKICAgIC8vICAgICAgICAgbmFtZTogeyB0eXBlOiAic3RyaW5nIiwgcmVxdWlyZWQ6IHRydWV9LAogICAgLy8gICAgICAgICBzZXg6IHsgdHlwZTogInN0cmluZyIsIHJlcXVpcmVkOiB0cnVlfSwKICAgIC8vICAgICAgICAgcGhvbmU6IHsgdHlwZTogInN0cmluZyIsIHJlcXVpcmVkOiB0cnVlfQogICAgLy8gICAgIH0pCiAgICAvLyAgICAgY29uc3QgZGF0YSA9IGF3YWl0IG5ldyBVc2VyKGN0eC5yZXF1ZXN0LmJvZHkpLnNhdmUoKQogICAgLy8gICAgIGNvbnN0IHJlc3VsdCA9IHsKICAgIC8vICAgICAgICAgY29kZTogMjAwLAogICAgLy8gICAgICAgICBkYXRhCiAgICAvLyAgICAgfQogICAgLy8gICAgIGN0eC5ib2R5ID0gcmVzdWx0CiAgICAvLyB9CiAgICAvLyBhc3luYyBkZWxldGVVc2VyKGN0eCl7CiAgICAvLyAgICAgY29uc3QgZGF0YSA9IGF3YWl0IFVzZXIuZmluZEJ5SWRBbmRSZW1vdmUoY3R4LnBhcmFtcy5pZCkKICAgIC8vICAgICBpZighZGF0YSl7CiAgICAvLyAgICAgICAgIGN0eC50aHJvdyg0MDQsICLnlKjmiLfkuI3lrZjlnKgiKQogICAgLy8gICAgIH0KICAgIC8vICAgICBjb25zdCByZXN1bHQgPSB7CiAgICAvLyAgICAgICAgIGNvZGU6IDIwMCwKICAgIC8vICAgICAgICAgZGF0YQogICAgLy8gICAgIH0KICAgIC8vICAgICBjdHguYm9keSA9IHJlc3VsdAogICAgLy8gfQoKICB9XSk7CgogIHJldHVybiBQb2V0cnlDb250cm9sbGVyOwp9KCk7Cgptb2R1bGUuZXhwb3J0cyA9IG5ldyBQb2V0cnlDb250cm9sbGVyKCk7"},{"version":3,"sources":["E:/vue3/shop/service/model/poetry/poetry.js"],"names":["PoetryModel","require","poetry","name","sex","id","poemer","img","PoetryController","ctx","find","data","result","code","body","module","exports"],"mappings":";;;;;;;;;;AAAA;AACA,IAAMA,WAAW,GAAGC,OAAO,CAAC,2BAAD,CAA3B;;AAGA,IAAMC,MAAM,GAAG,IAAIF,WAAJ,CAAgB;AAE3B,YACI,CAAC;AAACG,IAAAA,IAAI,EAAE,IAAP;AACGC,IAAAA,GAAG,EAAE,GADR;AAEGC,IAAAA,EAAE,EAAE,CAFP;AAGGC,IAAAA,MAAM,EAAE,0BAHX;AAIGC,IAAAA,GAAG,EAAE;AAJR,GAAD,EAKD;AACKJ,IAAAA,IAAI,EAAE,IADX;AAEKC,IAAAA,GAAG,EAAE,GAFV;AAGKC,IAAAA,EAAE,EAAE,CAHT;AAIKC,IAAAA,MAAM,EAAE,0BAJb;AAKKC,IAAAA,GAAG,EAAE;AALV,GALC,CAHuB;AAkB3B,gBAAc,KAlBa;AAmB3B,UAAQ;AAnBmB,CAAhB,CAAf,C,CAuBA;;IAEMC,gB;;;;;;;;;WACF;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;+EAEA,iBAAgBC,GAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACuBT,WAAW,CAACU,IAAZ,EADvB;;AAAA;AACUC,gBAAAA,IADV;AAMUC,gBAAAA,MANV,GAMmB;AACXC,kBAAAA,IAAI,EAAE,GADK;AAEXF,kBAAAA,IAAI,EAAJA;AAFW,iBANnB;AAUIF,gBAAAA,GAAG,CAACK,IAAJ,GAAWF,MAAX;;AAVJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;QAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAEJG,MAAM,CAACC,OAAP,GAAiB,IAAIR,gBAAJ,EAAjB","sourcesContent":["//模型的增删改查\r\nconst PoetryModel = require(\"../../schema/poetryschema\")\r\n\r\n\r\nconst poetry = new PoetryModel({\r\n\r\n    \"poetry\": \r\n        [{name: '李白',\r\n            sex: '男',\r\n            id: 1,\r\n            poemer: '床前明月光，疑是地上霜。举头望明月，低头思故乡。',\r\n            img: '/image/花儿.jpg'\r\n    }, {\r\n            name: '杜甫',\r\n            sex: '男',\r\n            id: 1,\r\n            poemer: '岱宗夫如何，齐鲁青未了。造化钟神秀，阴阳割昏晓。',\r\n            img: '/image/花儿.jpg'\r\n        }],\r\n       \r\n \r\n\r\n    \"statusCode\": \"200\",\r\n    \"desc\": \"请求成功\"\r\n   \r\n\r\n})\r\n// poetry.save()\r\n\r\nclass PoetryController {\r\n    // async getCenter(ctx) {\r\n    //     const data = await PoetryModel.find()\r\n    //     const result = {\r\n    //         code: 200,\r\n    //         data\r\n    //     }\r\n\r\n    //     ctx.body = result\r\n    // }\r\n\r\n    async getPoetry(ctx) {\r\n        const data = await PoetryModel.find(\r\n            //     [{\r\n            //     $unwind : '$center.poetry' \r\n            // }]\r\n        )\r\n        const result = {\r\n            code: 200,\r\n            data\r\n        }\r\n        ctx.body = result\r\n    }\r\n    // //获取导航栏\r\n    // async getNav(ctx) {\r\n    //     const data = await User.find()\r\n    //     const result = {\r\n    //         code:200,\r\n    //         data\r\n    //     }\r\n    //     ctx.body = result\r\n    // }\r\n    // async getUserById(ctx){\r\n    //     const data = await User.findOne({\r\n    //         _id: ctx.params.id\r\n    //     })\r\n    //     if (!data) {\r\n    //         ctx.throw(404, \"用户不存在\")\r\n    //     }\r\n    //     const result = {\r\n    //         code:200,\r\n    //         data\r\n    //     }\r\n    //     ctx.body = result\r\n    // }\r\n    // async updateUser(ctx){\r\n    //     ctx.verifyParams({\r\n    //         name: { type: \"string\" },\r\n    //         sex: { type: \"string\" },\r\n    //         phone: { type:\"string\" }\r\n    //     })\r\n    //     const data = await User.findByIdAndUpdate(ctx.params.id, ctx.request.body)\r\n    //     if(!data){\r\n    //         ctx.throw(404, \"用户不存在\")\r\n    //     }\r\n    //     const result = {\r\n    //         code: 200,\r\n    //         data\r\n    //     }\r\n    //     ctx.body = result\r\n    // }\r\n    // async createUser(ctx){\r\n    //     ctx.verifyParams({\r\n    //         name: { type: \"string\", required: true},\r\n    //         sex: { type: \"string\", required: true},\r\n    //         phone: { type: \"string\", required: true}\r\n    //     })\r\n    //     const data = await new User(ctx.request.body).save()\r\n    //     const result = {\r\n    //         code: 200,\r\n    //         data\r\n    //     }\r\n    //     ctx.body = result\r\n    // }\r\n    // async deleteUser(ctx){\r\n    //     const data = await User.findByIdAndRemove(ctx.params.id)\r\n    //     if(!data){\r\n    //         ctx.throw(404, \"用户不存在\")\r\n    //     }\r\n    //     const result = {\r\n    //         code: 200,\r\n    //         data\r\n    //     }\r\n    //     ctx.body = result\r\n    // }\r\n}\r\nmodule.exports = new PoetryController()\r\n"]}]}